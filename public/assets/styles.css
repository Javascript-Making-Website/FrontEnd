/* ==========================================================================
   Emotion Playlist — Global Styles (FULL REPLACEMENT)
   - Dark theme with mood-dependent variables
   - Shared components: topbar, buttons, panels, grid, list, chips, modal
   - Player/Search/Playlist pages compatible
   - Multi-step quiz UI (home.html) included
   ========================================================================== */

/* ── Theme Variables ─────────────────────────────────────────────────────── */
:root{
  --bg:#0f172a;
  --panel:#111827;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#22d3ee;
  --card:#0b1220;
  --ring:rgba(34,211,238,.5);
}


/* mood themes */
body[data-mood="happy"]{
  --bg:#0b1a10; --panel:#0f2316; --text:#f2fce2; --accent:#84cc16; --card:#0a1a10;
}
body[data-mood="sad"]{
  --bg:#0a1224; --panel:#0e1a30; --text:#dbeafe; --accent:#60a5fa; --card:#081122;
}
body[data-mood="calm"]{
  --bg:#0b1616; --panel:#0f1f20; --text:#e0fbfc; --accent:#2dd4bf; --card:#0a1415;
}
body[data-mood="angry"]{
  --bg:#1a0b0b; --panel:#240f0f; --text:#fee2e2; --accent:#f87171; --card:#1a0a0a;
}
body[data-mood="energetic"]{
  --bg:#0b0b1a; --panel:#11112a; --text:#ede9fe; --accent:#a78bfa; --card:#0b0b22;
}

/* ── Base / Reset ───────────────────────────────────────────────────────── */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
}
a{ color:inherit; text-decoration:none }
img{ display:block; max-width:100% }

/* ── Topbar / Header ────────────────────────────────────────────────────── */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:12px 16px;
  background:var(--panel);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.brand{ font-weight:800; letter-spacing:.2px; }
.nav{ display:flex; gap:8px; align-items:center; }

/* ── Buttons / Badges ───────────────────────────────────────────────────── */
.btn{
  padding:8px 12px; border-radius:10px;
  border:1px solid rgba(255,255,255,.08);
  background:var(--card); color:var(--text);
  cursor:pointer; transition:outline-color .15s ease, transform .04s ease;
}
.btn:hover{ outline:2px solid var(--ring) }
.btn:active{ transform:translateY(1px) }
.btn.primary{ background:var(--accent); color:#00110c; font-weight:700; border:none }
.badge{
  font-size:11px; padding:2px 6px; border-radius:6px;
  background:rgba(255,255,255,.1);
}
.hidden{ display:none !important }

/* ── Layout / Panels ────────────────────────────────────────────────────── */
.grid{
  display:grid; grid-template-columns:2fr 1fr; gap:12px; padding:12px;
}
@media (max-width:980px){ .grid{ grid-template-columns:1fr } }

.panel{
  background:var(--panel);
  border:1px solid rgba(255,255,255,.06);
  border-radius:14px;
  padding:12px;
}

.title{ font-weight:800 }
.sub{ font-size:12px; color:var(--muted) }

/* ── Search Bar ─────────────────────────────────────────────────────────── */
.search{
  display:flex; gap:8px; max-width:640px; margin:8px auto;
}
.search input{
  flex:1; padding:10px 12px; border-radius:10px; outline:none;
  background:var(--card); color:var(--text);
  border:1px solid rgba(255,255,255,.08);
}

/* ── Player Area ────────────────────────────────────────────────────────── */
.iframe-wrap{ aspect-ratio:16/9; background:#000; border-radius:10px; overflow:hidden }
.controls{ display:flex; gap:8px; align-items:center; margin-top:8px }

.meta{
  display:grid; grid-template-columns:auto 1fr auto;
  gap:10px; align-items:center; margin-top:8px;
}
.meta img{ width:52px; height:52px; border-radius:8px; object-fit:cover }

/* ── Mood Chips ─────────────────────────────────────────────────────────── */
.moods{ display:flex; gap:8px; flex-wrap:wrap }
.chip{
  padding:8px 10px; border-radius:999px; cursor:pointer;
  background:var(--card);
  border:1px solid rgba(255,255,255,.08);
}
.chip:hover{ outline:2px solid var(--ring) }
.chip.active{ background:var(--accent); color:#00110c; font-weight:700; border:none }

/* ── Lists (search results / recs / playlist items) ─────────────────────── */
.list{
  display:grid; gap:8px;
  max-height:calc(100vh - 240px);
  overflow:auto;
}
.item{
  display:grid; grid-template-columns:90px 1fr auto;
  gap:10px; align-items:center;
  padding:8px; border-radius:10px; cursor:pointer;
  background:var(--card); border:1px solid transparent;
}
.item:hover{ border-color:var(--accent) }
.item img{ width:90px; height:50px; border-radius:8px; object-fit:cover }

/* ── Modal ──────────────────────────────────────────────────────────────── */
.modal{
  position:fixed; inset:0; padding-top:10vh;
  display:flex; align-items:flex-start; justify-content:center;
  background:rgba(0,0,0,.45);
}
.modal > .box{
  background:var(--panel);
  border:1px solid rgba(255,255,255,.08);
  border-radius:12px;
  padding:14px; min-width:320px;
}

/* ==========================================================================
   Multi-Step Quiz (home.html)
   ========================================================================== */
.step{ margin-top:14px }
.step h2{ margin:6px 0 10px; font-size:1.05rem }

.choices.grid{
  display:grid;
  grid-template-columns:repeat(2, minmax(0,1fr));
  gap:8px;
}
@media (min-width:640px){
  .choices.grid{ grid-template-columns:repeat(3, minmax(0,1fr)) }
}

.choice{
  appearance:none;
  border:1px solid rgba(255,255,255,.08);
  background:var(--card); color:var(--text);
  border-radius:12px; padding:10px 12px;
  text-align:left; cursor:pointer;
}
.choice:hover{ outline:2px solid var(--ring) }

.progress{ display:flex; gap:6px; margin:8px 0 0 }
.progress .dot{
  width:8px; height:8px; border-radius:999px;
  background:rgba(255,255,255,.15);
}
.progress .dot.on{ background:var(--accent) }

.resultbox{
  padding:12px; border:1px dashed rgba(255,255,255,.25);
  border-radius:10px; background:rgba(255,255,255,.04);
}

/* ==========================================================================
   Footer / helper
   ========================================================================== */
.foot{
  text-align:center; padding:10px; color:var(--muted);
  border-top:1px solid rgba(255,255,255,.06);
  background:var(--panel);
}


/* 감상 페이지: 이 곡 평가용 감정 버튼 */
.rating-block .sub {
  color: #cbd5ff;
  font-size: 0.9rem;
}

.chip.rate-chip {
  background: #4338ca;   /* 보라색 계열로 눈에 띄게 */
  color: #fff;
}

.chip.rate-chip:hover {
  background: #4f46e5;
}
